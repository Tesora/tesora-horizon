{% load i18n sizeformat %}

<h3>{% trans "Instance Overview" %}</h3>

<div class="status row detail">
  <h4>{% trans "Info" %}</h4>
  <hr class="header_rule">
  <dl>
    <dt>{% trans "Name" %}</dt>
    <dd>{{ instance.name }}</dd>
    <dt>{% trans "ID" %}</dt>
    <dd>{{ instance.id }}</dd>
    <dt>{% trans "Datastore" %}</dt>
    <dd>{{ instance.datastore.type }}</dd>
    <dt>{% trans "Datastore Version" %}</dt>
    <dd>{{ instance.datastore.version }}</dd>
    <dt>{% trans "Status" %}</dt>
    <dd>{{ instance.status|title }}</dd>
  </dl>
</div>

<div class="specs row detail">
  <h4>{% trans "Specs" %}</h4>
  <hr class="header_rule">
  <dl>
    <dt>{% trans "Flavor" %}</dt>
    <dd>{{ instance.full_flavor.name }}</dd>
    <dt>{% trans "RAM" %}</dt>
    <dd>{{ instance.full_flavor.ram|mbformat }}</dd>
    {% if instance.volume %}
        <dt>{% trans "Volume Size" %}</dt>
        <dd>{{ instance.volume.size|diskgbformat }}</dd>
    {% endif %}
    <dt>{% trans "Created" %}</dt>
    <dd>{{ instance.created|parse_isotime }}</dd>
    <dt>{% trans "Updated" %}</dt>
    <dd>{{ instance.updated|parse_isotime }}</dd>
  </dl>
</div>

{% block connection_info %}
{% endblock %}

{% if instance.slave_of or instance.slaves %}
<div class="specs row detail">
  <h4>{% trans "Replication" %}</h4>
  <hr class="header_rule">
  <dl>
    {% if instance.slave_of %}
      <dt>{% trans "Slave Of" %}</dt>
      <dd>
        {% url 'horizon:project:databases:detail' instance.slave_of.id as instance_url %}
        <a href="{{ instance_url }}">{{ instance.slave_of.id }}</a>
      </dd>
    {% endif %}

    {% if instance.slaves %}
      <dt>{% trans "Slave" %}</dt>
      {% for slave in instance.slaves %}
        <dd>
          {% url 'horizon:project:databases:detail' slave.id as instance_url %}
          <a href="{{ instance_url }}">{{ slave.id }}</a>
        </dd>
      {% endfor %}
    {% endif %}
  </dl>
</div>
{% endif %}
